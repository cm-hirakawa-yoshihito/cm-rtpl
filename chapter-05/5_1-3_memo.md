## 構造体

- Rustには3つの構造体がある
  - 名前付きフィールド構造体
  - タプル構造体
  - ユニット構造体

### 名前付きフィールド型構造体

- 構造体を含む全ての型の名前はキャメルケース
- フィールド名やメソッド名はスネークケース

### タプル構造体

- フィールドに名前を与えず、0から始まる連番のフィールド名を使う
- newtypeパターン
  - タイプエイリアスので代わりにフォールドが一つのタプル構造体を定義する
  - 型チェックを強化

### ユニット構造体

* フィールドを持たない構造体
* [タプル小話 | κeenのHappy Hacκing Blog](https://keens.github.io/blog/2019/01/05/tapurukobanashi/)

### implによるメソッド定義

- selfの型定義は省略可能（implブロックの冒頭に書かれたもの、またはそれへの参照であることが明らかなため）

### std::default::Default

- Defaultを自動導出するためには構造体のすべてのフィールドの型がDefaultトレイトを実装している必要がある
- 自動導出できないときや自動導出とは異なるデフォルト値を持たせたいときはimplブロックでDefaultトレイトを実装する

``` rust
impl Default for User {
    fn default() -> Self {
        Self {
            username: Default::default(),
            email: Default::default(),
            sign_in_count: 100,
            active: Default::default(),
        }
    }
}
```

### フィールドので可視性

* デフォルトはプライベート。モジュールの外からはアクセスできない
* pubキーワードで公開
* 構造体は構造体自体と、フィールド単位で可視性を制御出来る
* enumはそれ自体の可視しか制御できない
  * enumをパブリックにすると、バリアントやバリアントが持つフィールドもパブリックになる

